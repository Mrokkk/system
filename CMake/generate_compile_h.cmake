execute_process(COMMAND date +%X OUTPUT_VARIABLE COMPILE_TIME OUTPUT_STRIP_TRAILING_WHITESPACE)
execute_process(COMMAND date +%x OUTPUT_VARIABLE COMPILE_DATE OUTPUT_STRIP_TRAILING_WHITESPACE)
execute_process(COMMAND uname -s OUTPUT_VARIABLE COMPILE_SYSTEM OUTPUT_STRIP_TRAILING_WHITESPACE)
execute_process(COMMAND uname -m OUTPUT_VARIABLE COMPILE_ARCH OUTPUT_STRIP_TRAILING_WHITESPACE)
execute_process(COMMAND whoami OUTPUT_VARIABLE COMPILE_BY OUTPUT_STRIP_TRAILING_WHITESPACE)
execute_process(COMMAND hostname OUTPUT_VARIABLE COMPILE_HOST OUTPUT_STRIP_TRAILING_WHITESPACE)
execute_process(COMMAND ${CMAKE_C_COMPILER} -dumpversion OUTPUT_VARIABLE COMPILER OUTPUT_STRIP_TRAILING_WHITESPACE)

file(WRITE include/kernel/compile.h "#define COMPILE_TIME \"${COMPILE_TIME}\"\n")
file(APPEND include/kernel/compile.h "#define COMPILE_DATE \"${COMPILE_DATE}\"\n")
file(APPEND include/kernel/compile.h "#define COMPILE_SYSTEM \"${COMPILE_SYSTEM}\"\n")
file(APPEND include/kernel/compile.h "#define COMPILE_ARCH \"${COMPILE_ARCH}\"\n")
file(APPEND include/kernel/compile.h "#define COMPILE_BY \"${COMPILE_BY}\"\n")
file(APPEND include/kernel/compile.h "#define COMPILE_HOST \"${COMPILE_HOST}\"\n")
file(APPEND include/kernel/compile.h "#define COMPILER \"${CMAKE_C_COMPILER} ${COMPILER}\"\n")
