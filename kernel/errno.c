#include <kernel/errno.h>
#include <kernel/kernel.h>

#define ERRNO(x) [x] = #x

static const char* errors[] = {
    ERRNO(EPERM),
    ERRNO(ENOENT),
    ERRNO(ESRCH),
    ERRNO(EINTR),
    ERRNO(EIO),
    ERRNO(ENXIO),
    ERRNO(E2BIG),
    ERRNO(ENOEXEC),
    ERRNO(EBADF),
    ERRNO(ECHILD),
    ERRNO(EAGAIN),
    ERRNO(ENOMEM),
    ERRNO(EACCES),
    ERRNO(EFAULT),
    ERRNO(ENOTBLK),
    ERRNO(EBUSY),
    ERRNO(EEXIST),
    ERRNO(EXDEV),
    ERRNO(ENODEV),
    ERRNO(ENOTDIR),
    ERRNO(EISDIR),
    ERRNO(EINVAL),
    ERRNO(ENFILE),
    ERRNO(EMFILE),
    ERRNO(ENOTTY),
    ERRNO(ETXTBSY),
    ERRNO(EFBIG),
    ERRNO(ENOSPC),
    ERRNO(ESPIPE),
    ERRNO(EROFS),
    ERRNO(EMLINK),
    ERRNO(EPIPE),
    ERRNO(EDOM),
    ERRNO(ERANGE),
    ERRNO(EDEADLK),
    ERRNO(ENAMETOOLONG),
    ERRNO(ENOLCK),
    ERRNO(ENOSYS),
    ERRNO(ENOTEMPTY),
    ERRNO(ELOOP),
    ERRNO(ENOMSG),
    ERRNO(EIDRM),
    ERRNO(ECHRNG),
    ERRNO(EL2NSYNC),
    ERRNO(EL3HLT),
    ERRNO(EL3RST),
    ERRNO(ELNRNG),
    ERRNO(EUNATCH),
    ERRNO(ENOCSI),
    ERRNO(EL2HLT),
    ERRNO(EBADE),
    ERRNO(EBADR),
    ERRNO(EXFULL),
    ERRNO(ENOANO),
    ERRNO(EBADRQC),
    ERRNO(EBADSLT),
    ERRNO(EBFONT),
    ERRNO(ENOSTR),
    ERRNO(ENODATA),
    ERRNO(ETIME),
    ERRNO(ENOSR),
    ERRNO(ENONET),
    ERRNO(ENOPKG),
    ERRNO(EREMOTE),
    ERRNO(ENOLINK),
    ERRNO(EADV),
    ERRNO(ESRMNT),
    ERRNO(ECOMM),
    ERRNO(EPROTO),
    ERRNO(EMULTIHOP),
    ERRNO(EDOTDOT),
    ERRNO(EBADMSG),
    ERRNO(EOVERFLOW),
    ERRNO(ENOTUNIQ),
    ERRNO(EBADFD),
    ERRNO(EREMCHG),
    ERRNO(ELIBACC),
    ERRNO(ELIBBAD),
    ERRNO(ELIBSCN),
    ERRNO(ELIBMAX),
    ERRNO(ELIBEXEC),
    ERRNO(EILSEQ),
    ERRNO(ERESTART),
    ERRNO(ESTRPIPE),
    ERRNO(EUSERS),
    ERRNO(ENOTSOCK),
    ERRNO(EDESTADDRREQ),
    ERRNO(EMSGSIZE),
    ERRNO(EPROTOTYPE),
    ERRNO(ENOPROTOOPT),
    ERRNO(EPROTONOSUPPORT),
    ERRNO(ESOCKTNOSUPPORT),
    ERRNO(EOPNOTSUPP),
    ERRNO(EPFNOSUPPORT),
    ERRNO(EAFNOSUPPORT),
    ERRNO(EADDRINUSE),
    ERRNO(EADDRNOTAVAIL),
    ERRNO(ENETDOWN),
    ERRNO(ENETUNREACH),
    ERRNO(ENETRESET),
    ERRNO(ECONNABORTED),
    ERRNO(ECONNRESET),
    ERRNO(ENOBUFS),
    ERRNO(EISCONN),
    ERRNO(ENOTCONN),
    ERRNO(ESHUTDOWN),
    ERRNO(ETOOMANYREFS),
    ERRNO(ETIMEDOUT),
    ERRNO(ECONNREFUSED),
    ERRNO(EHOSTDOWN),
    ERRNO(EHOSTUNREACH),
    ERRNO(EALREADY),
    ERRNO(EINPROGRESS),
    ERRNO(ESTALE),
    ERRNO(EUCLEAN),
    ERRNO(ENOTNAM),
    ERRNO(ENAVAIL),
    ERRNO(EISNAM),
    ERRNO(EREMOTEIO),
    ERRNO(EDQUOT),
    ERRNO(ENOMEDIUM),
    ERRNO(EMEDIUMTYPE),
    ERRNO(ECANCELED),
    ERRNO(ENOKEY),
    ERRNO(EKEYEXPIRED),
    ERRNO(EKEYREVOKED),
    ERRNO(EKEYREJECTED),
    ERRNO(EOWNERDEAD),
    ERRNO(ENOTRECOVERABLE),
    ERRNO(ERFKILL),
    ERRNO(EHWPOISON),
};

const char* errno_name(int errno)
{
    if (unlikely(errno > 0)) return "unknown";
    return errors[-errno];
}
